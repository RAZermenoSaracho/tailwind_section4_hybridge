<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gráficas</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        html,
        body {
            height: 100%;
        }

        /* Alto total visible para las tarjetas con charts */
        .charts-row {
            height: 78vh;
        }

        /* ajusta a 72–82vh si lo necesitas */
        /* El wrapper controla la altura del canvas */
        .chart-wrapper {
            position: relative;
            height: calc(100% - 56px);
            /* deja espacio al título de cada tarjeta */
            min-height: 240px;
        }

        /* El canvas llena su contenedor */
        .chart-wrapper>canvas {
            width: 100% !important;
            height: 100% !important;
            display: block;
        }
    </style>
</head>

<body>
    <h1 class="text-3xl font-bold text-center my-4">Gráficas con Chart.js y Tailwind CSS</h1>

    <div class="container-fluid px-3">
        <div class="row g-4 align-items-stretch charts-row">
            <div class="col-12 col-lg-6 d-flex">
                <div class="border rounded p-3 w-100 d-flex flex-column">
                    <h2 class="text-xl font-semibold text-center mb-3">Linechart</h2>
                    <div class="chart-wrapper">
                        <canvas id="lineChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="col-12 col-lg-6 d-flex">
                <div class="border rounded p-3 w-100 d-flex flex-column">
                    <h2 class="text-xl font-semibold text-center mb-3">Barchart</h2>
                    <div class="chart-wrapper">
                        <canvas id="barChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Line
        const lineCtx = document.getElementById('lineChart').getContext('2d');
        new Chart(lineCtx, {
            type: 'line',
            data: {
                labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                datasets: [
                    {
                        label: 'Usuarios 2024', data: [5000, 5500, 6000, 6200, 6800, 7200, 7500, 8000, 8249, 8500, 8800, 9100],
                        borderColor: 'rgb(59,130,246)', backgroundColor: 'rgba(59,130,246,0.1)', tension: .3, fill: true
                    },
                    {
                        label: 'Usuarios 2023', data: [4000, 4200, 4500, 4800, 5100, 5400, 5600, 5900, 6200, 6500, 6800, 7000],
                        borderColor: 'rgb(107,114,128)', backgroundColor: 'rgba(107,114,128,0.1)', tension: .3, fill: true
                    }
                ]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { position: 'top' } },
                scales: { y: { beginAtZero: true } }
            }
        });

        // Bar
        const barCtx = document.getElementById('barChart').getContext('2d');
        new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                datasets: [{
                    label: 'Ingresos 2024 ($)', data: [15000, 16500, 18000, 19500, 21000, 22500, 23000, 24000, 24780, 26000, 27500, 29000],
                    backgroundColor: 'rgba(59,130,246,0.8)'
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { position: 'top' } },
                scales: { y: { beginAtZero: true } }
            }
        });
    </script>
</body>

</html>